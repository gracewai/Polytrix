var filefog = require('../filefog');
var authenticator = require('../authenticator');
var Q = require('q');

module.exports.accountInfo = function(access_token,refresh_token){
	refresh_token = null;//dropbox no refresh token
	return filefog.client(access_token,refresh_token)
	.then(function (client) {
		return client.accountInfo();
	});
};

module.exports.usageQouta = function(access_token,refresh_token){
	return filefog.client(access_token,refresh_token)
	.then(function(client){
		return client.checkQuota();
	});
};

//	AccountInfo
// { name: 'So Brian',
//   email: 'briansostudio@gmail.com',
//   avatar_url: '',
//   created_date: null,
//   modified_date: null,
//   id: '237480721',


// UsageQouta
// { total_bytes: 3355443200,
//   used_bytes: 1036029785,
//   limits: {},


// _raw: 
//  { _json: 
//     { referral_link: 'https://db.tt/TwIAP9ve',
//       display_name: 'So Brian',
//       uid: 237480721,
//       locale: 'zh_TW',
//       email_verified: true,
//       team: null,
//       quota_info: [Object],
//       is_paired: false,
//       country: 'HK',
//       name_details: [Object],
//       email: 'briansostudio@gmail.com' },
//    name: 'So Brian',
//    email: 'briansostudio@gmail.com',
//    countryCode: 'HK',
//    uid: '237480721',
//    publicAppUrl: null,
//    referralUrl: 'https://db.tt/TwIAP9ve',
//    quota: 3355443200,
//    privateBytes: 1036029785,
//    sharedBytes: 0,
//    usedQuota: 1036029785 } }
